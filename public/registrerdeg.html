<!DOCTYPE html>
<html>

<head>
<title>Registrer deg</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
</head>

 <style>
  body {
    background-color:#161313;
  }
  
  .container {
  background-color: #1d1d20;
  font-family: "arial";
}
 </style>

 <body>
 <h1 style="color: white; font-family: Bahnschrift;">A-LIST</h1>
 <h4 style="color: white; font-family: Bahnschrift;">By NarwhalDragonfly</h4>
 </body>

 <head>
 <meta charset="UTF-8">
 </head>

 <div class="container">

 <div id="login">


 <fieldset class="clearfix">

 <h3 style="color: white; font-family: Bahnschrift;">Brukernavn</h3> 
 <p><span class="arial"></span><input id="lagBruker" type="text" value="Brukernavn" onBlur="if(this.value == '') this.value = 'Fornavn'" onFocus="if(this.value == 'Fornavn') this.value = ''" required></p> 
 
 
 
 
 <h3 style="color: white; font-family: Bahnschrift;">Passord</h3> 
 <p><span class="arial"></span><input id="lagPassord" type="password"  value="Passord" onBlur="if(this.value == '') this.value = 'Passord'" onFocus="if(this.value == 'Passord') this.value = ''" required></p> 
 
 

 <button id="registrer">Registrer deg</button>
 
 </fieldset>

<script>
  let lagBruker = document.getElementById('lagBruker');
  let lagPassord = document.getElementById('lagPassord');
  let registrer = document.getElementById('registrer');

  registrer.addEventListener('click', async ()=>{

    const url = '/nyBruker';

    const config = {
      method: 'post',
      headers: {
        'content-type': 'application/json'
      },
      body: JSON.stringify({
        user: lagBruker.value,
        password: lagPassord.value
      })
    }

    let result = await fetch(url, config);
    console.log(result);
    if(result.status === 200){
      location.href = "logginn.html";
    }

  });



</script>

 </html>